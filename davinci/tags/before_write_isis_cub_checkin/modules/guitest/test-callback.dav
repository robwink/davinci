#!/u/jim/src/davinci/davinci -ifv

load_module("gui")

define myCallback() {
	printf("widget = %d, event = %s\n", $1, $2);
}

top = gui.create("topLevelShell", "callback test")

pushb = gui.create("pushbutton", "Push Me!", top)

gui.set(pushb, { davinciPrivate = "myCallback" });

gui.realize(top);

while (1) {
	event = gui.wait()
	eval(gui.get(event.widget).davinciPrivate + "(" + event.widget + ",\"" + event.event + "\")");
}
